<div class="m-5 d-flex flex-column" *ngIf="!!campaign">
  <div>
    <a
      class="btn btn-outline-primary m-3 ms-0"
      [routerLink]="['/', routeNames.campaigns.index, campaign.id]"
      aria-current="page"
      >Campaign info</a
    >
  </div>
  <div class="mb-3">
    <h1>Campaign: {{ campaign.name }}</h1>
  </div>
  <div class="row mb-3">
    <div>
      <h3>Voting results</h3>
      <hr />
      <app-campaign-vote-count
        *ngIf="!resultsContainer"
        [campaign]="campaign"
        [onCountFinished]="onCountFinished.bind(this)"
      ></app-campaign-vote-count>
      <div *ngIf="!!resultsContainer" class="d-flex align-items-center">
        <app-campaign-results-save
          [results]="resultsContainer.results"
        ></app-campaign-results-save>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="!!resultsContainer">
    <div *ngIf="!resultsContainer.isCountSuccessful">
      <app-vote-count-failure-display
        [failureStatus]="resultsContainer.failureStatus"
      ></app-vote-count-failure-display>
    </div>
    <div *ngIf="resultsContainer.isCountSuccessful">
      <app-campaign-results-display
        [results]="resultsContainer.results"
      ></app-campaign-results-display>
    </div>
  </div>
</div>
